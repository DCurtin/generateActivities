<template>
    <lightning-card title="GenerateActivities" icon-name="custom:custom63">
        <div class="slds-m-around_medium">
            <p>{statusMessage}</p>

            <template if:false={hideAttach}>
                <lightning-input label="Attachment" name="file1" type="file" accept=".csv" onchange={setFilesAndTransitionStateToGetType}></lightning-input>
            </template>

            <template if:false={hideTypeSelection}>
                <lightning-radio-group  name="typeSelection"
                                        label="Radio Group"
                                        options={options}
                                        value={value}
                                        required
                                        onchange={setType}
                                        type="button"></lightning-radio-group>
                <lightning-button label="Choose Type" onclick={checkRadioSelectedAndTransitionToSplit}></lightning-button>
            </template>

            <template if:false={hideStaging}>
                    <lightning-button if:false={hideInsert} label="Create Records" onclick={insertTasks}></lightning-button>
                    <table class="TaskTable" style="width:100%">
                            <tr>
                                <th>Subject</th>
                                <th>Type</th>
                                <th>WhatId</th>
                                <th>WhoId</th>
                            </tr>
                            
                            <template for:each={tasks} for:item="task">
                                    <tr key={task.Id}>  <td>{task.Subject}</td> <td>{task.Type}</td> <td>{task.WhatId}</td> <td>{task.WhoId}</td>  </tr>
                            </template>
                        </table>
            </template>
            
        </div>
    </lightning-card>
</template>