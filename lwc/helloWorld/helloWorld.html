<template>
    <lightning-card title="HelloWorld" icon-name="custom:custom63">
        <div class="slds-m-around_medium">
            <p>{statusMessage}</p>
            <lightning-input if:false={hideAttach} label="Attachment" name="file1" type="file" accept=".csv" onchange={fileParser}></lightning-input>
            <template if:true={tasks.data}>
                    <lightning-button if:false={hideInsert} label="Create Records" onclick={insertTasks}></lightning-button>
                    <table class="TaskTable" style="width:100%">
                            <tr>
                                <th>Subject</th>
                                <th>Type</th>
                                <th>WhatId</th>
                                <th>WhoId</th>
                            </tr>
                            
                            <template for:each={tasks.data} for:item="task">
                                    <tr key={task.Id}>  <td>{task.Subject}</td> <td>{task.Type}</td> <td>{task.WhatId}</td> <td>{task.WhoId}</td>  </tr>
                            </template>
                        </table>
            </template>
            
        </div>
    </lightning-card>
</template>